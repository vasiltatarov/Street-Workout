@model StreetWorkout.ViewModels.Home.IndexViewModel
@{
    ViewData["Title"] = "Home Page";
}

<link href="~/css/index.css" rel="stylesheet" asp-append-version="true" />

<div class="text-center">
    <h1 class="display-4">
        @(this.Model.IsTrainer ? "Welcome Trainer" : "Welcome Enthusiast")
    </h1>
</div>

<hr />

@if (this.Model.IsAccountCompleted)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">×</span>
        </button>
        <i class="fa fa-check"></i>
        <strong>Yay!</strong> Everything is fine! Your account is completely finished.
    </div>
}
else
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="fa fa-exclamation-circle"></i>
        <strong>Hey!</strong> Your account is not completed
        <a asp-controller="Accounts" asp-action="CompleteAccount">click here.</a> to complete your account. This will unlock more options for you.
    </div>
}

<hr />

@{
    var users = this.Model.Users;
    var firstUser = users.Any() ? users[0] : null;
    var secondUser = users.Count > 1 ? users[1] : null;
    var thirdUser = users.Count > 2 ? users[2] : null;
}

<br />
<h2 class="text-center">View our trainers</h2>

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
        @if (firstUser != null)
        {
            <div class="carousel-item active">
                <img class="d-block w-100" src="@firstUser.ImageUrl" alt="@firstUser.Username">
                <div class="carousel-caption d-none d-md-block">
                    <a asp-controller="Accounts" asp-action="Account" asp-route-username="@firstUser.Username" class="btn btn-info m-1">@firstUser.Username</a>
                </div>
            </div>
        }
        @if (secondUser != null)
        {
            <div class="carousel-item">
                <img class="d-block w-100" src="@secondUser.ImageUrl" alt="@secondUser.Username">
                <div class="carousel-caption d-none d-md-block">
                    <a asp-controller="Accounts" asp-action="Account" asp-route-username="@secondUser.Username" class="btn btn-info m-1">@secondUser.Username</a>
                </div>
            </div>
        }
        @if (thirdUser != null)
        {
            <div class="carousel-item">
                <img class="d-block w-100" src="@thirdUser.ImageUrl" alt="@thirdUser.Username">
                <div class="carousel-caption d-none d-md-block">
                    <a asp-controller="Accounts" asp-action="Account" asp-route-username="@thirdUser.Username" class="btn btn-info m-1">@thirdUser.Username</a>
                </div>
            </div>
        }
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<br />

<div class="text-center">
    <button id="show-stats-btn" class="btn btn-info">Show Statistics</button>
</div>

<div id="show-stats" class="jumbotron d-none">
    <div class="row">
        <h2 id="total-trainers" class="col-md-4 text-center"></h2>
        <h2 id="total-enthusiasts" class="col-md-4 text-center"></h2>
        <h2 id="total-workouts" class="col-md-4 text-center"></h2>
    </div>
</div>

@section Scripts {
    <script src="~/js/index.js" asp-append-version="true"></script>
}